<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interfacing with other survival packages • ggbulksurv</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Interfacing with other survival packages">
<meta property="og:description" content="ggbulksurv">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggbulksurv</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../index.html">Home</a>
    </li>
    <li>
      <a href="../articles/installation.html">Installing ggbulksurv</a>
    </li>
    <li>
      <a href="../articles/getting-started-with-r.html">Getting started with R</a>
    </li>
    <li>
      <a href="../articles/basic-plot.html">Basic plots</a>
    </li>
    <li>
      <a href="../articles/customizing-plots.html">Customizing your plots</a>
    </li>
    <li>
      <a href="../articles/interfacing-with-other-packages.html">Interfacing with survival and survminer</a>
    </li>
    <li>
      <a href="../articles/convert-prism.html">Converting to PRISM format</a>
    </li>
    <li>
      <a href="../articles/faqs.html">FAQs</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li>
  <a href="https://github.com/qhuitan/ggbulksurv" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Interfacing with other survival packages</h1>
            
      
      
      <div class="hidden name"><code>interfacing-with-other-packages.Rmd</code></div>

    </div>

    
    
<p>Two of the most popular packages for survival analysis are <a href="https://cran.r-project.org/web/packages/survival/index.html" class="external-link">survival</a>
and <a href="https://cran.r-project.org/web/packages/survminer/index.html" class="external-link">survminer</a>.
This vignette will demonstrate how to use <code>ggbulksurv</code>’s
output as input to other survival packages.</p>
<p>We first start by documenting the three functions that
<code><a href="../reference/run_bulksurv.html">run_bulksurv()</a></code> wraps around. At each stage, we demonstrate
how this can be used as input to other packages for the advanced
user.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://qhuitan.github.io/ggbulksurv/">ggbulksurv</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/survminer/index.html" class="external-link">survminer</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: ggplot2</span></span>
<span><span class="co">#&gt; Loading required package: ggpubr</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'survminer'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:survival':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     myeloma</span></span></code></pre></div>
<div class="section level2">
<h2 id="behind-the-scenes">Behind the scenes<a class="anchor" aria-label="anchor" href="#behind-the-scenes"></a>
</h2>
<p>The <code><a href="../reference/run_bulksurv.html">run_bulksurv()</a></code> command makes several choices for the
user, with the caveat that these assumptions tend to hold under most
conditions. Users who desire total control over the process should read
this section for a more detailed walkthrough.</p>
<p><code><a href="../reference/run_bulksurv.html">run_bulksurv()</a></code> is a wrapper around the 3 following
functions:</p>
<ol style="list-style-type: decimal">
<li>
<code>get_indiv_surv</code>: Converts a bulk survival table into an
individual survival table.</li>
<li>
<code>fit_surv</code>: Fits a survival object from
<code><a href="https://rdrr.io/pkg/survival/man/survfit.html" class="external-link">survival::survfit()</a></code>.</li>
<li>
<code>plot_surv</code>: Plots a survival curve using
<code><a href="https://rdrr.io/pkg/survminer/man/ggsurvplot.html" class="external-link">survminer::ggsurvplot()</a></code>.</li>
</ol>
<p>This section takes you through the 3 steps that
<code><a href="../reference/run_bulksurv.html">run_bulksurv()</a></code> wraps around.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load lifespan data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sample_data</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">sample_data</span></span>
<span></span>
<span><span class="co"># To read in your own data, remove the # from the following line of code:</span></span>
<span><span class="co"># dat &lt;- read_csv("your-lifespan-data.csv")</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-individual-survivals">1. Get individual survivals<a class="anchor" aria-label="anchor" href="#get-individual-survivals"></a>
</h2>
<p><code>get_indiv_surv</code> converts a table of bulk survival data
into individual survivals. Each row now represents an individual.
<code>day</code> represents the number of days lived, while
<code>status</code> is either 0 (censored) or 1 (dead).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert to one individual per row</span></span>
<span><span class="va">df_isurv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_indiv_surv.html">get_indiv_surv</a></span><span class="op">(</span><span class="va">dat</span>,</span>
<span>                           sample_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WT"</span>, <span class="st">"Drug1"</span>, <span class="st">"Drug2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(x, condition, day, sex, status)`</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df_isurv</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;       x condition   day sex   status</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     2 WT            1 M          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 WT            1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     2 WT            1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>    28 Drug1         1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>    28 Drug1         1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>    28 Drug1         1 M          1</span></span></code></pre></div>
<p>We now have a <code>tibble</code> with one individual per row.</p>
<p>At this point, this data can be used as input to other packages, such
as <code>survminer()</code> and <code>survival</code>.</p>
</div>
<div class="section level2">
<h2 id="fit-the-survival-object">2. Fit the survival object<a class="anchor" aria-label="anchor" href="#fit-the-survival-object"></a>
</h2>
<div class="section level3">
<h3 id="fit_surv">fit_surv()<a class="anchor" aria-label="anchor" href="#fit_surv"></a>
</h3>
<p><code>fit_surv</code> creates a <code>survfit</code> object for
<code>day</code> and <code>status</code>, then fits a survival curve by
<code>condition</code>. It takes in a <code>data.frame</code> with one
individual per row, and creates a <code>survfit</code> object using the
<code><a href="https://rdrr.io/pkg/survival/man/survfit.html" class="external-link">survival::survfit()</a></code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit survival object</span></span>
<span><span class="va">df_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_surv.html">fit_surv</a></span><span class="op">(</span><span class="va">df_isurv</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; call: formula = Surv(day, status) ~ condition</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df_fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call: survfit(formula = Surv(day, status) ~ condition, data = df_isurv)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                  n events median 0.95LCL 0.95UCL</span></span>
<span><span class="co">#&gt; condition=WT    50     47   20.0      19      21</span></span>
<span><span class="co">#&gt; condition=Drug1 50     46    4.5       4       6</span></span>
<span><span class="co">#&gt; condition=Drug2 50     42   33.0      32      35</span></span></code></pre></div>
<p>Interpretation: Drug1 has the shortest median lifespan of 4.5 days,
with a 95% confidence interval (95% CI) of 4 to 6 days. In contrast,
Drug2 has the longest median lifespan of 33 days, with a 95% CI of 32 to
35 days.</p>
</div>
<div class="section level3">
<h3 id="survival-package">survival package<a class="anchor" aria-label="anchor" href="#survival-package"></a>
</h3>
<p>Alternatively, you can fit this manually using the
<code>survival</code> package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit survival object</span></span>
<span><span class="va">df_fit</span> <span class="op">&lt;-</span> <span class="fu">survival</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/survfit.html" class="external-link">survfit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">day</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">condition</span>,</span>
<span>                                data <span class="op">=</span> <span class="va">df_isurv</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df_fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call: survfit(formula = Surv(day, status) ~ condition, data = df_isurv)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                  n events median 0.95LCL 0.95UCL</span></span>
<span><span class="co">#&gt; condition=WT    50     47   20.0      19      21</span></span>
<span><span class="co">#&gt; condition=Drug1 50     46    4.5       4       6</span></span>
<span><span class="co">#&gt; condition=Drug2 50     42   33.0      32      35</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="plot-the-survival-object">3. Plot the survival object<a class="anchor" aria-label="anchor" href="#plot-the-survival-object"></a>
</h2>
<div class="section level3">
<h3 id="using-plot_surv">Using plot_surv()<a class="anchor" aria-label="anchor" href="#using-plot_surv"></a>
</h3>
<p><code>plot_surv</code> is a wrapper around [survminer::ggsurvplot()].
As such, all additional arguments passed to <code>plot_surv</code> will
be passed to <code><a href="https://rdrr.io/pkg/survminer/man/ggsurvplot.html" class="external-link">survminer::ggsurvplot()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using ggbulksurv</span></span>
<span><span class="va">df_isurv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_indiv_surv.html">get_indiv_surv</a></span><span class="op">(</span><span class="va">dat</span>,</span>
<span>                           sample_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WT"</span>, <span class="st">"Drug1"</span>, <span class="st">"Drug2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(x, condition, day, sex, status)`</span></span>
<span></span>
<span><span class="va">df_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_surv.html">fit_surv</a></span><span class="op">(</span><span class="va">df_isurv</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; call: formula = Surv(day, status) ~ condition</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_surv.html">plot_surv</a></span><span class="op">(</span>fit <span class="op">=</span> <span class="va">df_fit</span>, </span>
<span>          type <span class="op">=</span> <span class="st">"survival"</span>,</span>
<span>          data <span class="op">=</span> <span class="va">df_isurv</span><span class="op">)</span></span></code></pre></div>
<p><img src="interfacing-with-other-packages_files/figure-html/surv_detail-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="using-survminerggsurvplot">Using survminer::ggsurvplot()<a class="anchor" aria-label="anchor" href="#using-survminerggsurvplot"></a>
</h3>
<p>Alternatively, you can construct your own plots using
<code><a href="https://rdrr.io/pkg/survminer/man/ggsurvplot.html" class="external-link">survminer::ggsurvplot</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_isurv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_indiv_surv.html">get_indiv_surv</a></span><span class="op">(</span><span class="va">dat</span>,</span>
<span>                           sample_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WT"</span>, <span class="st">"Drug1"</span>, <span class="st">"Drug2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(x, condition, day, sex, status)`</span></span>
<span></span>
<span><span class="va">df_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_surv.html">fit_surv</a></span><span class="op">(</span><span class="va">df_isurv</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; call: formula = Surv(day, status) ~ condition</span></span>
<span></span>
<span><span class="fu">survminer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/survminer/man/ggsurvplot.html" class="external-link">ggsurvplot</a></span><span class="op">(</span>fit <span class="op">=</span> <span class="va">df_fit</span>,</span>
<span>                      data <span class="op">=</span> <span class="va">df_isurv</span>,</span>
<span>                      ncensor.plot <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># add censor plot</span></span>
<span>                      <span class="op">)</span></span></code></pre></div>
<p><img src="interfacing-with-other-packages_files/figure-html/ggsurvplot-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="returning-data">4. Returning data<a class="anchor" aria-label="anchor" href="#returning-data"></a>
</h2>
<p><code>ggbulksurv</code> also provides functions to return data if you
wish to use it in a different pipeline. Use the
<code>returnData = TRUE</code> parameter to return everything as a
list.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_survival</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_bulksurv.html">run_bulksurv</a></span><span class="op">(</span><span class="va">dat</span>, returnData <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(x, condition, day, sex, status)`</span></span>
<span><span class="co">#&gt; call: formula = Surv(day, status) ~ condition</span></span>
<span><span class="co">#&gt; call: formula = Surv(day, status) ~ condition</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">df_survival</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df_survival</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "data"            "plot"            "median_survival" "logrank"        </span></span>
<span><span class="co">#&gt; [5] "pairwise"</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df_survival</span><span class="op">)</span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 150 × 5</span></span></span>
<span><span class="co">#&gt;        x condition   day sex   status</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     2 WT            1 M          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 WT            1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     2 WT            1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    28 Drug1         1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    28 Drug1         1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    28 Drug1         1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    28 Drug1         1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    28 Drug1         1 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     3 WT            2 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    29 Drug1         2 M          1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 140 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot</span></span></code></pre></div>
<p><img src="interfacing-with-other-packages_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $median_survival</span></span>
<span><span class="co">#&gt; Call: survfit(formula = Surv(day, status) ~ condition, data = df_isurv)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                  n events median 0.95LCL 0.95UCL</span></span>
<span><span class="co">#&gt; condition=WT    50     47   20.0      19      21</span></span>
<span><span class="co">#&gt; condition=Drug1 50     46    4.5       4       6</span></span>
<span><span class="co">#&gt; condition=Drug2 50     42   33.0      32      35</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $logrank</span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; survival::survdiff(formula = Surv(day, status) ~ condition, data = df_isurv)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                  N Observed Expected (O-E)^2/E (O-E)^2/V</span></span>
<span><span class="co">#&gt; condition=WT    50       47     31.2      7.94      12.9</span></span>
<span><span class="co">#&gt; condition=Drug1 50       46     12.5     89.99     128.1</span></span>
<span><span class="co">#&gt; condition=Drug2 50       42     91.3     26.60     123.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Chisq= 186  on 2 degrees of freedom, p= &lt;2e-16 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $pairwise</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Pairwise comparisons using Log-Rank test </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  df_isurv and condition </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;       WT      Drug1  </span></span>
<span><span class="co">#&gt; Drug1 2.3e-14 -      </span></span>
<span><span class="co">#&gt; Drug2 &lt; 2e-16 &lt; 2e-16</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; P value adjustment method: BH</span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/qhuitan" class="external-link">Qian Hui Tan</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
